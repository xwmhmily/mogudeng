<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>蘑菇灯: 高性能网关+高性能应用服务+可视化运维监控+全链路分析</title>
  <meta content="" name="descriptison">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="assets/vendor/venobox/venobox.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
</head>
<body>
  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center">

      <h1 class="logo mr-auto"><a href="index.html">蘑菇灯</a></h1>
      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <a href="index.html" class="logo mr-auto"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

      <nav class="nav-menu d-none d-lg-block">
        	<ul>
          		<li class="active"><a href="#header">Home</a></li>
          		<li><a href="#componements">Componements</a></li>
		  		<li><a href="#dashboard">Dashboard</a></li>
          		<li><a href="#services">Services</a></li>
          		<li><a href="#contact">Contact</a></li>
        	</ul>
      </nav><!-- .nav-menu -->
    </div>
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero" class="d-flex align-items-center justify-content-center">
    <div class="container position-relative">
      <h2>高性能网关 + 高性能应用服务 + 全方位可视化运维监控 + 全链路跟踪分析</h2>
      <a href="#componements" class="btn-get-started scrollto">Get Started</a>
    </div>
  </section><!-- End Hero -->

  <main id="main">
    <!-- ======= Componements Section ======= -->
    <section id="componements" class="services">
      <div class="container">

        <div class="section-title">
          <h2>Componements</h2>
          <p></p>
        </div>

        <div class="row">
			<a href="http://116.62.138.92:9000/user/login?redirect=%2F" target="_blank">
				<div class="col-lg-4 col-md-6 d-flex align-items-stretch" data-aos="zoom-in" data-aos-delay="100">
					<div class="icon-box iconbox-blue">
					<div class="icon">
						<i class="bx bxl-dribbble"></i>
					</div>
					<h4 style="color:dimgray">APISIX</h4>
					<p style="color:dimgray">基于 OpenResty 的高性能网关, 动态路由, 负载均衡, 支持插件。<br />
						点击体验, 账号/密码均为 admin</p>
				</div>
			</a>
          </div>

          <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4 mt-md-0" data-aos="zoom-in" data-aos-delay="200">
			<a href="https://www.hyperf.io/" target="_blank">
				<div class="icon-box iconbox-orange ">
				<div class="icon">
					<i class="bx bx-file"></i>
				</div>
				<h4 style="color:dimgray">Hyperf</h4>
				<p style="color:dimgray">Swoole 协程框架, 提供HTTP, TCP, UDP, Websocket 服务, 快速开发。
					
					注：本机创建了两个 HTTP 实例, 配合 APISIX 作负载均衡
				</p>
				</div>
			</a>
          </div>

          <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4 mt-lg-0" data-aos="zoom-in" data-aos-delay="300">
			<a href="https://business.swoole.com/tracker/index" target="_blank">
				<div class="icon-box iconbox-pink">
				<div class="icon">
					<i class="bx bx-tachometer"></i>
				</div>
				<h4 style="color:dimgray">Swoole_tracker</h4>
				<p style="color:dimgray">Swoole 官方出品的全链路监控和调试解决方案
					<br /><br />
					本人账号已过期, 收费版买不起, ~_~ </p></p>
				</div>
			</a>
          </div>

          <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4" data-aos="zoom-in" data-aos-delay="100">
			<a href="http://116.62.138.92:8091/targets" target="_blank">
				<div class="icon-box iconbox-yellow">
				<div class="icon">
					<i class="bx bx-layer"></i>
				</div>
				<h4 style="color:dimgray">Prometheus</h4>
				<p style="color:dimgray">新一代监控神器, 服务器, APISIX, MySQL, Redis, 配合Grafana。
					<br />
					点击体验</p>
				</div>
			</a>
          </div>

          <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4" data-aos="zoom-in" data-aos-delay="200">
			<a href="http://116.62.138.92:3000/?orgId=1" target="_blank">
				<div class="icon-box iconbox-red">
				<div class="icon">
					<i class="bx bx-slideshow"></i>
				</div>
				<h4 style="color:dimgray">Grafana</h4>
				<p style="color:dimgray">图形化展现监控数据, 一目了然, 黑箱变白箱, 运维简单明了
					<br />
					点击体验 (展示 Linux, APISXI, MySQL, Redis)
				</p>
				</div>
			</a>
          </div>

          <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4" data-aos="zoom-in" data-aos-delay="300">
			<a href="https://www.elastic.co/cn/elasticsearch/" target="_blank">
				<div class="icon-box iconbox-teal">
				<div class="icon">
					<i class="bx bx-arch"></i>
				</div>
				<h4 style="color:dimgray">ElasticSearch / ELK</h4>
				<p style="color:dimgray">分布式的开源搜索和分析引擎, 让搜索变得简单, 商品搜索, 日志分析, 数据分析 (由于个人服务器硬件受限, 未能安装, ~_~ )</p>
				</div>
			</a>
          </div>
        </div>
      </div>
    </section><!-- End Services Section -->

    <section id="cta" class="cta">
      <div class="container">
        <div class="text-center">
          <h3>Be water</h3>
          <p>Empty your mind, be formless, shapeless, like water. Now you put water into a cup, it becomes the cup. You put water into a bottle it becomes the bottle. You put it into a teapot it becomes the teapot. Now, water can flow, or it can crash. Be water, my friend. &nbsp;&nbsp;&nbsp;&nbsp; - Bruce LEE</p>
        </div>
      </div>
    </section>

	<section id="dashboard" class="about">
		<div class="container">
		  	<div class="row">
				<div class="col-lg-20">
					<h2><a target="_blank" href="http://116.62.138.92:9000/user/login?redirect=/">APISIX Dashboard</a></h2>
			  		<img src="assets/img/apisix.png" class="img-fluid" title="APISIX Dashboard" alt="APISIX Dashboard">
				</div>
				<div class="col-lg-20" style="padding-top: 30px;">
					<h2><a target="_blank" href="http://116.62.138.92:8091/targets">Prometheus Dashboard</a></h2>
			  		<img src="assets/img/prometheus.png" class="img-fluid" title="Prometheus Dashboard" alt="Prometheus Dashboard">
				</div>
				<div class="col-lg-20" style="padding-top: 30px;">
					<h2><a target="_blank" href="http://116.62.138.92:3000/d/bLlNuRLWz/apache-apisix?orgId=1&refresh=5s">Grafana APISIX Dashboard</a></h2>
			  		<img src="assets/img/grafana_apisix.png" class="img-fluid" title="Grafana APISIX Dashboard" alt="Grafana APISIX Dashboard">
				</div>
				<div class="col-lg-20" style="padding-top: 30px;">
					<h2><a target="_blank" href="http://116.62.138.92:3000/d/xfpJB9FGz/mogudeng-linux?orgId=1">Grafana Linux Dashboard</a></h2>
			  		<img src="assets/img/grafana_linux.png" class="img-fluid" title="Granfa Linux Dashboard" alt="Granfa Linux Dashboard">
				</div>
				<div class="col-lg-20" style="padding-top: 30px;">
					<h2><a target="_blank" href="http://116.62.138.92:3000/d/MQWgroiiz/mysql-overview?orgId=1&refresh=5s">Grafana MySQL Dashboard</a></h2>
			  		<img src="assets/img/grafana_mysql.png" class="img-fluid" title="Granfa MySQL Dashboard" alt="Granfa MySQL Dashboard">
				</div>
				<div class="col-lg-20" style="padding-top: 30px;">
					<h2><a target="_blank" href="http://116.62.138.92:3000/d/ogIRygHnk/redis-dashboard?orgId=1&refresh=30s">Grafana Redis Dashboard</a></h2>
			  		<img src="assets/img/grafana_redis.png" class="img-fluid" title="Granfa Redis Dashboard" alt="Granfa Redis Dashboard">
				</div>
				<div class="col-lg-20" style="padding-top: 30px;">
					<h2>Swoole_tracker</a></h2>
			  		<img src="assets/img/swoole_tracker.png" class="img-fluid" title="Swoole_tracker" alt="Swoole_tracker">
				</div>
				<div class="col-lg-20" style="padding-top: 30px;">
					<h2><a target="_blank" href="http://www.github.com/xwmhmily/Swoole-ElasticSearch-Sql">ElasticSearch</a></h2>
			  		<img src="assets/img/ElasticSearch.png" class="img-fluid" title="ElasticSearch" alt="ElasticSearch">
				</div>
		  	</div>
		</div>
	</section>

    <section id="services" class="portfolio">
      <div class="container">
        <div class="section-title">
          <h2>Services</h2>
        </div>
			<div class="row" id="http">
				<div class="col-lg-20">
					<h2>HTTP</h2>
					基于 Swoole + Hyperf 开发的 HTTP 服务, 客户端(PHP, GO) 并发调用示例代码（PHP 需要Swoole 扩展）
					<iframe src="source_http.html" width="800" height="1450"></iframe>
				</div>				
				<div class="col-lg-20" id="tcp" style="padding-top: 30px;">
					<h2>TCP Server</h2>
					基于 Swoole + Hyperf 开发的 TCP echo 服务, 客户端示例代码
					<iframe src="source_tcp.html" width="800" height="270"></iframe>
				</div>
				<div class="col-lg-20" id="udp" style="padding-top: 30px;">
					<h2>UDP Server</h2>
					基于 Swoole + Hyperf 开发的 UDP echo 服务, 客户端示例代码
					<iframe src="source_udp.html" width="800" height="190"></iframe>
				</div>
				<div class="col-lg-20" id="websocket" style="padding-top: 30px;">
					<h2>Websocket</h2>
					基于 Swoole + Hyperf 开发的 Websocket echo 服务, 输入想说的话，点击 [Send]
				</div>
		  	</div>

		  	<section id="websocketform" class="contact">
				<div class="col-lg-6">
					<form action="#" method="post" role="form" class="php-email-form">
					<div class="form-group">
						<input type="text" class="form-control" name="subject" id="subject" placeholder="说点啥呗" />
					</div>
					<div class="form-group">
						<textarea id="reply" class="form-control" name="message" rows="5"></textarea>
					</div>
					<div class="text-center"><button type="submit" id="sendBtn">Send</button></div>
					</form>
				</div>
		  	</section>

			<div class="row" id="nlp">
				<div class="col-lg-20" id="nlp_div" style="padding-top: 30px;">
					<h2>中文分词</h2>
					基于 Swoole_nlp 作中文分词, 仅需 0.0002 秒
				</div>
		  	</div>

		  	<section id="websocketform" class="contact">
				<div class="col-lg-6">
					<form action="#" method="post" role="form" class="php-email-form">
					<div class="form-group">
						<input type="text" class="form-control" name="subject" id="subject" placeholder="小白小白开飞机, 开到洛杉矶, 洛杉矶, 没饭吃, 吃个肯德基" />
					</div>
					<div class="form-group">
						<textarea id="reply" class="form-control" name="message" rows="5"></textarea>
					</div>
					<div class="text-center"><button type="submit" id="sendBtn">Send</button></div>
					</form>
				</div>
		  	</section>
      	</div>
    </section>

    <section id="contact" class="contact">
      <div class="container">
        <div class="section-title">
          <h2>Contact</h2>
          <!-- <p>Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.</p> -->
        </div>

        <div class="row">
          <div class="col-lg-6">
            <div class="row">
				<div class="col-md-6">
					<div class="info-box mt-4">
						<i class="bx bx-envelope"></i>
						<h3>Email Us</h3>
						<p>381345509@qq.com<br>大眼猫</p>
					</div>
				</div>
              	<div class="col-md-6">
               	 	<div class="info-box mt-4">
                  		<i class="bx bx-envelope"></i>
                  		<h3>Email Us</h3>
                  	<p>soldier76@qq.com<br>光宇</p>
                </div>
              </div>
              <!-- <div class="col-md-6">
                <div class="info-box mt-4">
                  <i class="bx bx-phone-call"></i>
                  <h3>Call Us</h3>
                  <p>XXX<br>XXX</p>
                </div>
              </div> -->
            </div>
          </div>
        </div>
      </div>
    </section>
</main>

<footer id="footer">
	<div class="container d-md-flex py-4">
		<div class="mr-md-auto text-center text-md-left">
			<div class="copyright"><a target="_blank" href="http://116.62.138.92:9502/nlp/parse?text=%E6%88%91%E4%B8%80%E4%BC%9A%E5%BC%80%E8%BD%A6%E8%BF%87%E5%8E%BB%E7%9C%8B%E7%9C%8B">Swoole_nlp<a>&nbsp;&nbsp;&nbsp;&nbsp;
			<a target="_blank" href="http://supervisord.org/">Supervisor<a>&nbsp;&nbsp;&nbsp;&nbsp;
			<a target="_blank" href="http://www.github.com/xwmhmily/Swoole-ElasticSearch-Sql">Swoole-ElasticSearch-Sql<a>&nbsp;&nbsp;&nbsp;&nbsp;
			</a>#联系或加入我们请发邮件, 谢谢# &nbsp;&nbsp;&nbsp;&nbsp; 粤备号： </div>
		</div>
	</div>
</footer>

<a href="#" class="back-to-top"><i class="bx bx-up-arrow-alt"></i></a>

<!-- Vendor JS Files -->
<script src="assets/vendor/jquery/jquery.min.js"></script>
<script src="assets/js/jquery-3.3.1.min.js"></script>
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
<script src="assets/vendor/php-email-form/validate.js"></script>
<script src="assets/vendor/waypoints/jquery.waypoints.min.js"></script>
<script src="assets/vendor/counterup/counterup.min.js"></script>
<script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
<script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="assets/vendor/venobox/venobox.min.js"></script>

<!-- Template Main JS File -->
<script src="assets/js/main.js"></script>
<script>
	$(document).ready(function(){
		$('#sendNlpBtn').click(function(){
			var text = $('#nlp_subject').val();
			if (text == ''){
				text = '小白小白开飞机, 开到洛杉矶, 洛杉矶, 没饭吃, 吃个肯德基';
			}

			$.get('/nlp.php', {'text': text}, function(data){
				alert(data);
			});
		})

		$('#sendBtn').click(function(){
			var subject = $('#subject').val();
			if (subject == ''){
				subject = '这家伙很懒, 什么都没说';
			}
			ws.send(subject);
			return false;
		})

		var ws;
		var lockReconnect = false;
		var wsUrl = 'ws://116.62.138.92:9604';

		function createWebSocket(url) {
			try {
				ws = new WebSocket(url);
				initEventHandle();
			} catch (e) {
				// reconnect(url);
				console.log("Error when connecting");
				$('#reply').val("Error when connecting, pls try again later or contact us via email, thx .");
			}
		}

		function initEventHandle() {
			ws.onclose = function () {
				//reconnect(wsUrl);
				console.log("Connection close");
			};

			ws.onerror = function (event) {
				//reconnect(wsUrl);
				console.log("Error");
				$('#reply').val(event);
			};

			ws.onopen = function () {
				//心跳检测重置
				heartCheck.reset().start();
				ws.send('ping');
			};

			ws.onmessage = function (event) {
				//如果获取到消息，心跳检测重置
				//拿到任何消息都说明当前连接是正常的
				heartCheck.reset().start();
				console.log(event.data);
				$('#reply').val(event.data);
			}
		}

		function reconnect(url) {
			if(lockReconnect) return;
			lockReconnect = true;
			//没连接上会一直重连，设置延迟避免请求过多
			setTimeout(function () {
				createWebSocket(url);
				lockReconnect = false;
			}, 2000);
		}

		//心跳检测
		var heartCheck = {
			timeout: 10000,//1秒
			timeoutObj: null,
			serverTimeoutObj: null,
			reset: function(){
				clearTimeout(this.timeoutObj);
				clearTimeout(this.serverTimeoutObj);
				return this;
			},
			start: function(){
				var self = this;
				this.timeoutObj = setTimeout(function(){
					//这里发送一个心跳，后端收到后，返回一个心跳消息，
					//onmessage拿到返回的心跳就说明连接正常
					ws.send('ping');
					self.serverTimeoutObj = setTimeout(function(){//如果超过一定时间还没重置，说明后端主动断开了
					//ws.close();//如果onclose会执行reconnect，我们执行ws.close()就行了.如果直接执行reconnect 会触发onclose导致重连两次
					}, self.timeout);
				}, this.timeout);
			}
		}

		createWebSocket(wsUrl);

		//监听窗口关闭事件，当窗口关闭时，主动去关闭websocket连接，防止连接还没断开就关闭窗口，server端会抛异常。
		window.onbeforeunload = function () {
			if (ws) {
				ws.close();
			}
		}
	});
</script>
<style>
.copyrights{text-indent:-9999px;height:0;line-height:0;font-size:0;overflow:hidden;}
</style>
</body>
</html>